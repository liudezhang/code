<!--
 * @Author: your name
 * @Date: 2020-12-24 13:59:34
 * @LastEditTime: 2020-12-24 14:24:09
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: \ES6\async_await\index.html
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #one {
            width: 300px;
            height: 300px;
            background-color: skyblue;
        }
    </style>
</head>

<body>
    <div id='one'></div>
</body>

</html>
<script>
    let fnPromise1 = () => {
        return new Promise((resolve, reject) => {
            setTimeout(() => {
                let one = document.querySelector('#one');
                one.style.backgroundColor = "red"
                resolve('3秒改变了one1的颜色')
            }, 3000);
        })
    }
    let fnPromise2 = () => {
        return new Promise((resolve, reject) => {
            setTimeout(() => {
                let one = document.querySelector('#one');
                one.style.backgroundColor = "black"
                resolve('2秒改变了one2的颜色')
            }, 2000);
        })
    }

    let fnPromise3 = () => {
        return new Promise((resolve, reject) => {
            reject('失败了');
        })
    }

    // let p1 = fnPromise()
    // p1.then((res) => {
    //     console.log(res);
    // })

    /***
     * 使用async 
     */

    async function demo() {
        try {
            let result1 = await fnPromise1()
            let result2 = await fnPromise2()
            let result3 = await fnPromise3()
            console.log(result1);
            console.log(result2);
            console.log(result3);
        } catch (e) {
            console.log(e);
        }
    }
    demo();

    console.log(demo);

    console.log('刘德樟');
</script>